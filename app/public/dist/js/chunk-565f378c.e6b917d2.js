(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-565f378c"],{"06f0":function(t,e,a){},"21e3":function(t,e,a){},"23ba":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return c}));var n=a("8116"),i=function(t){return Object(n["b"])("/api/apiPage/group",t)},r=function(t){return Object(n["d"])("/api/apiPage/group",t)},o=function(t){return Object(n["e"])("/api/apiPage/group/",t)},c=function(t){return Object(n["a"])("/api/apiPage/group/".concat(t))}},"287f":function(t,e,a){},"498a":function(t,e,a){"use strict";var n=a("23e7"),i=a("58a8").trim,r=a("c8d2");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},"4ec3":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return c}));a("99af");var n=a("8116"),i=function(t){return Object(n["b"])("/api/apiPage",t)},r=function(t){return Object(n["d"])("/api/apiPage",t)},o=function(t){return Object(n["e"])("/api/apiPage/",t)},c=function(t){return Object(n["a"])("/api/apiPage/".concat(t.group,"/").concat(t.id))}},"4fad":function(t,e,a){var n=a("23e7"),i=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),i=a("5899"),r="["+i+"]",o=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),l=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(c,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5acd":function(t,e,a){a("a15b");var n=function(){return Date.parse(new Date)/1e3},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.parse(new Date),e=new Date(1e3*t),a=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var i=e.getDate();i=i<10?"0"+i:i;var r=e.getHours();r=r<10?"0"+r:r;var o=e.getMinutes(),c=e.getSeconds();return o=o<10?"0"+o:o,c=c<10?"0"+c:c,[a,n,i].join(".")+" "+[r,o,c].join(":")};t.exports={nowTimestamp:n,timestampToTime:i}},"5efe":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"api"},[a("api-sider"),a("api-table")],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-aside",{staticClass:"api_sider",staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"280px"}},[a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:0}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{margin:"-4px -5px"}},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.handleToAddGroup}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 新建分组 ")])],1)]),a("div",{staticStyle:{margin:"8px"}},[a("el-input",{attrs:{clearable:"",placeholder:"搜索分组",size:"small"},on:{change:t.handleSearchGroup},model:{value:t.groupSearchValue,callback:function(e){t.groupSearchValue=e},expression:"groupSearchValue"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),a("el-tag",{attrs:{type:"info"},on:{click:function(e){return t.handleMenuClick(void 0)}}},[t._v("所有API")]),0===t.menuList.length?a("p",{staticStyle:{"margin-top":"20px","text-align":"center","font-size":"13px",color:"#909399"}},[a("i",{staticClass:"el-icon-files"}),t._v(" 暂无数据 ")]):t._e(),a("el-menu",{directives:[{name:"loading",rawName:"v-loading",value:t.menuLoading,expression:"menuLoading"}],attrs:{"default-active":t.activeGroup?t.activeGroup.toString():t.activeGroup},on:{select:t.handleMenuClick}},t._l(t.menuList,(function(e){var n=e.name,i=e.id;return a("el-menu-item",{key:i,attrs:{index:i.toString()}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content"},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(n))])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleGroupClick}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-more"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{type:"edit",value:{name:n,id:i}}}},[t._v("编辑")]),a("el-dropdown-item",{attrs:{command:{type:"delete",value:i}}},[t._v("删除")])],1)],1)],1)])],1)],1)})),1)],1)],1)},o=[],c=(a("b0c0"),a("498a"),a("5530")),l=a("2f62"),s=a("23ba"),u=a("cc8f"),d={name:"Sider",data:function(){return{menuList:[],menuLoading:!1,groupSearchValue:""}},computed:Object(c["a"])({},Object(l["b"])(["activeGroup"])),mixins:[u["a"]],methods:{handleSearchGroup:function(t){this.initPage(""===t.trim()?void 0:t)},handleMenuClick:function(t){this.$store.dispatch("group/changeActiveGroup",t)},handleGroupClick:function(t){var e=t.type,a=t.value;"edit"===e?this.handleToEditGroup(a):this.handleToDeleteGroup(a)},handleToAddGroup:function(){var t=this;this.$store.dispatch("globalDialog/toggleDialogVisible",{title:"新建分组",type:"input",visible:!0,onSubmit:function(e){return t.submitCreateGroup(e)}})},handleToEditGroup:function(t){var e=this;this.$store.dispatch("globalDialog/toggleDialogVisible",{title:"编辑分组",type:"input",visible:!0,value:t.name,onSubmit:function(a){return e.submitUpdateGroup(t.id,a)}})},handleToDeleteGroup:function(t){var e=this;this.$store.dispatch("globalDialog/toggleDialogVisible",{message:'<span style="color: red;">确定要删除吗？</span>',visible:!0,onSubmit:function(){return e.submitDeleteGroup(t)}})},submitCreateGroup:function(t){var e=this;Object(s["a"])({name:t}).then((function(){e.messageSuccess("添加成功"),e.initPage()}))},submitUpdateGroup:function(t,e){var a=this;Object(s["d"])({id:t,name:e}).then((function(){a.messageSuccess("修改成功"),a.initPage()}))},submitDeleteGroup:function(t){var e=this;Object(s["b"])(t).then((function(){e.messageSuccess("删除成功"),e.initPage()}))},initPage:function(t){var e=this;this.closeGlobalDialog(),this.menuLoading=!0,Object(s["c"])({name:t}).then((function(t){e.menuLoading=!1,e.menuList=t}))}},mounted:function(){this.initPage()}},p=d,f=(a("7048"),a("2877")),g=Object(f["a"])(p,r,o,!1,null,"227103ac",null),h=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"api-table"},[a("el-header",{staticStyle:{"font-size":"12px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content"},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.handleToAdd}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 新建 API ")])],1)]),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"搜索API",clearable:""},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleToSearch},slot:"append"})],1)],1)],1)],1),a("el-main",[a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"100%"},attrs:{data:t.tableData,"header-cell-style":{background:"#f8f8f8",color:"#333",borderLeft:"1px solid #ddd"},"row-style":{cursor:"pointer"},"default-sort":{prop:"updatedTime",order:"descending"}},on:{"cell-click":t.cellClick}},[t._l(t.column,(function(e){return a("el-table-column",{key:e.value,attrs:{prop:e.value,label:e.label,sortable:e.sortable,width:e.width},scopedSlots:t._u([{key:"default",fn:function(n){return["type"===e.value?a("div",[a("el-tag",{attrs:{"disable-transitions":"",type:e.type[n.row.type]||""}},[t._v(t._s(n.row.type))])],1):a("div",[t._v(" "+t._s(n.row[e.value])+" ")])]}}],null,!0)})})),a("table-operation",{attrs:{operations:t.operations}})],2)],1),a("div",{staticClass:"table-footer"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{offset:16,span:8}},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next",total:t.total,"page-sizes":[10,20,30,40],"page-size":t.pageSize,"current-page":t.pageIndex},on:{"current-change":t.handlePageChange,"size-change":t.handleSizeChange}})],1)],1)],1)])],1)},m=[],v=(a("d81d"),a("4ec3")),y=a("5acd"),S=a("986a"),w={name:"Table",components:{TableOperation:S["a"]},data:function(){var t=this;return{tableData:[],column:[{label:"ID",value:"id",width:100},{label:"API Name",value:"name"},{label:"请求方式",value:"type",width:100,type:{GET:"",POST:"success",PUT:"warning",DELETE:"danger"}},{label:"URL",value:"path"},{label:"更新时间",value:"updatedTime",sortable:!0}],operations:[{label:"编辑",onClick:function(e){var a=e.id;return t.$router.push({name:"ApiEditPage",query:{id:a}})}},{label:"新标签打开",onClick:function(t){var e=t.id;return window.open("#/api/detail?id=".concat(e))}},{label:"删除",onClick:function(e){var a=e.id,n=e.group;return t.$store.dispatch("globalDialog/toggleDialogVisible",{message:'<span style="color: red;">确定要删除吗？</span>',visible:!0,onSubmit:function(){return t.handleToDeleteData({id:a,group:n})}})}}],loading:!1,searchValue:"",pageIndex:1,pageSize:10,total:0}},computed:Object(c["a"])({},Object(l["b"])(["activeGroup"])),watch:{activeGroup:function(){this.initPage()},pageIndex:function(){this.initPage()},pageSize:function(){this.initPage()}},mounted:function(){this.initPage()},mixins:[u["a"]],methods:{cellClick:function(t,e,a){var n=t.id;0===a.getElementsByTagName("span").length&&this.$router.push({name:"ApiDetailPage",query:{id:n}})},handleToAdd:function(){this.$router.push({name:"ApiEditPage"})},handleToDeleteData:function(t){var e=this;Object(v["b"])(t).then((function(){e.messageSuccess("删除成功"),e.closeGlobalDialog(),e.initPage()}))},handleToSearch:function(){this.initPage()},handlePageChange:function(t){this.pageIndex=t},handleSizeChange:function(t){this.pageSize=t},initPage:function(){var t=this;this.loading=!0;var e=this.activeGroup,a=this.searchValue,n=this.pageIndex,i=this.pageSize,r={group:e,pageIndex:n,pageSize:i};""!==a.trim()&&(r.value=a),Object(v["c"])(r).then((function(e){t.tableData=e.data.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{createdTime:Object(y["timestampToTime"])(t.createdTime),updatedTime:Object(y["timestampToTime"])(t.updatedTime)})})),t.total=e.total,t.loading=!1}))}}},x=w,j=(a("bffc"),Object(f["a"])(x,b,m,!1,null,"3336f756",null)),D=j.exports,T={name:"Api",components:{"api-sider":h,"api-table":D}},O=T,k=(a("935f"),Object(f["a"])(O,n,i,!1,null,"10ceab92",null));e["default"]=k.exports},"6f53":function(t,e,a){var n=a("83ab"),i=a("df75"),r=a("fc6a"),o=a("d1e7").f,c=function(t){return function(e){var a,c=r(e),l=i(c),s=l.length,u=0,d=[];while(s>u)a=l[u++],n&&!o.call(c,a)||d.push(t?[a,c[a]]:c[a]);return d}};t.exports={entries:c(!0),values:c(!1)}},"6f89":function(t,e,a){},7048:function(t,e,a){"use strict";var n=a("6f89"),i=a.n(n);i.a},8836:function(t,e,a){"use strict";var n=a("287f"),i=a.n(n);i.a},"935f":function(t,e,a){"use strict";var n=a("06f0"),i=a.n(n);i.a},"986a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(t.operations,(function(n,i){return[a("span",{key:n.label,on:{click:function(t){return n.onClick(e.row)}}},[t._v(t._s(n.label))]),i!==t.operations.length-1?a("el-divider",{key:n.label,attrs:{direction:"vertical"}}):t._e()]}))]}}])})},i=[],r={name:"TableOperation",props:{operations:Array}},o=r,c=(a("8836"),a("2877")),l=Object(c["a"])(o,n,i,!1,null,"70a6c00c",null);e["a"]=l.exports},"99af":function(t,e,a){"use strict";var n=a("23e7"),i=a("d039"),r=a("e8b5"),o=a("861d"),c=a("7b0b"),l=a("50c4"),s=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),f=a("2d00"),g=p("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",m=f>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),v=d("concat"),y=function(t){if(!o(t))return!1;var e=t[g];return void 0!==e?!!e:r(t)},S=!m||!v;n({target:"Array",proto:!0,forced:S},{concat:function(t){var e,a,n,i,r,o=c(this),d=u(o,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?o:arguments[e],y(r)){if(i=l(r.length),p+i>h)throw TypeError(b);for(a=0;a<i;a++,p++)a in r&&s(d,p,r[a])}else{if(p>=h)throw TypeError(b);s(d,p++,r)}return d.length=p,d}})},a15b:function(t,e,a){"use strict";var n=a("23e7"),i=a("44ad"),r=a("fc6a"),o=a("a640"),c=[].join,l=i!=Object,s=o("join",",");n({target:"Array",proto:!0,forced:l||!s},{join:function(t){return c.call(r(this),void 0===t?",":t)}})},b0c0:function(t,e,a){var n=a("83ab"),i=a("9bf2").f,r=Function.prototype,o=r.toString,c=/^\s*function ([^ (]*)/,l="name";n&&!(l in r)&&i(r,l,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(t){return""}}})},bffc:function(t,e,a){"use strict";var n=a("21e3"),i=a.n(n);i.a},c1f9:function(t,e,a){var n=a("23e7"),i=a("2266"),r=a("8418");n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,(function(t,a){r(e,t,a)}),void 0,!0),e}})},c8d2:function(t,e,a){var n=a("d039"),i=a("5899"),r="​᠎";t.exports=function(t){return n((function(){return!!i[t]()||r[t]()!=r||i[t].name!==t}))}},cc8f:function(t,e,a){"use strict";a("4de4"),a("d81d"),a("b0c0"),a("4fad"),a("c1f9"),a("498a");e["a"]={methods:{closeGlobalDialog:function(){this.$store.dispatch("globalDialog/toggleDialogVisible",{visible:!1})},messageSuccess:function(t){this.$message.success(t)},messageWarning:function(t){this.$message.warning(t)},messageError:function(t){this.$message.error(t)},filterEmptyData:function(t){return t.filter((function(t){return""!==t.name.trim()||""!==t.value.trim()||""!==t.remark.trim()}))},arrayDataToObject:function(t){return Object.fromEntries(this.filterEmptyData(t).map((function(t){return[t.name,t.value]})))},objectDataToArray:function(t){return Object.entries(t).map((function(t){return{name:t[0],value:t[1]}}))}}}}}]);
//# sourceMappingURL=chunk-565f378c.e6b917d2.js.map