{"version":3,"sources":["webpack:///./src/api/group.js","webpack:///./src/api/api.js","webpack:///./src/components/ApiEdit/BaseDataForm.vue?9b92","webpack:///./src/views/Api/ApiEdit.vue?2556","webpack:///./src/views/Api/ApiEdit.vue?0e2a","webpack:///./src/components/ApiEdit/BaseDataForm.vue?d3b1","webpack:///src/components/ApiEdit/BaseDataForm.vue","webpack:///./src/components/ApiEdit/BaseDataForm.vue?88b2","webpack:///./src/components/ApiEdit/BaseDataForm.vue","webpack:///./src/components/ApiEdit/ResponseParam.vue?307c","webpack:///src/components/ApiEdit/ResponseParam.vue","webpack:///./src/components/ApiEdit/ResponseParam.vue?7839","webpack:///./src/components/ApiEdit/ResponseParam.vue","webpack:///src/views/Api/ApiEdit.vue","webpack:///./src/views/Api/ApiEdit.vue?ca83","webpack:///./src/views/Api/ApiEdit.vue"],"names":["getGroupData","data","getJson","createGroupData","postJson","updateGroupData","putJson","deleteGroupData","deleteJson","getApiData","createApiData","updateApiData","deleteApiData","group","id","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","staticStyle","on","goBack","attrs","saveData","_v","ref","staticRenderFns","baseDataForm","model","callback","$$v","$set","slot","_l","item","key","path","type","groupList","computed","requestTypeList","Object","keys","methods","handleChangeBaseDataForm","initPage","mounted","component","currentJsonType","components","CommonTable","baseData","isRequired","remark","isRoot","JsonType","created","JSON","parse","stringify","handleChangeData","handleChangeCurrentJsonType","BaseDataForm","RequestParam","ResponseParam","ResponseExample","isEdit","loading","mixins","mixin","$router","go","trim","Number","requestParam","header","filterEmptyData","body","query","rest","responseParam","response_param","responseExample","response_example","content","messageWarning","base_data_form","request_param","handleChangeHeaderData","handleChangeBodyData","handleChangeQueryData","handleChangeRestData","handleChangeContent"],"mappings":"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","file":"js/chunk-6c5af12e.ddc5d0ec.js","sourcesContent":["import { getJson, postJson, deleteJson, putJson } from '../util/axios';\n\nexport const getGroupData = data => getJson('/api/apiPage/group', data);\n\nexport const createGroupData = data => postJson('/api/apiPage/group', data);\n\nexport const updateGroupData = data => putJson(`/api/apiPage/group/`, data);\n\nexport const deleteGroupData = data => deleteJson(`/api/apiPage/group/${data}`);\n","import { getJson, postJson, deleteJson, putJson } from '../util/axios';\n\nexport const getApiData = data => getJson('/api/apiPage', data);\n\nexport const createApiData = data => postJson('/api/apiPage', data);\n\nexport const updateApiData = data => putJson('/api/apiPage/', data);\n\nexport const deleteApiData = data =>\n  deleteJson(`/api/apiPage/${data.group}/${data.id}`);\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDataForm.vue?vue&type=style&index=0&id=464f4fc8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDataForm.vue?vue&type=style&index=0&id=464f4fc8&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApiEdit.vue?vue&type=style&index=0&id=8053a668&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApiEdit.vue?vue&type=style&index=0&id=8053a668&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"api-edit\"},[_c('el-header',{staticStyle:{\"font-size\":\"12px\",\"height\":\"40px\"}},[_c('el-page-header',{on:{\"back\":_vm.goBack}}),_c('el-button',{staticStyle:{\"position\":\"absolute\",\"top\":\"13px\",\"left\":\"128px\"},attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":_vm.saveData}},[_c('i',{staticClass:\"el-icon-save\"}),_vm._v(\" 保存 \")])],1),_c('el-main',[_c('p',{staticClass:\"title\"},[_vm._v(\"基本信息\")]),_c('base-data-form',{ref:\"base_data_form\"}),_c('p',{staticClass:\"title\"},[_vm._v(\"请求参数\")]),_c('request-param',{ref:\"request_param\"}),_c('p',{staticClass:\"title\"},[_vm._v(\"返回参数\")]),_c('response-param',{ref:\"response_param\"}),_c('p',{staticClass:\"title\"},[_vm._v(\"返回示例\")]),_c('response-example',{ref:\"response_example\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"base_data_form\"},[_c('el-form',{attrs:{\"label-position\":\"top\",\"label-width\":\"80px\",\"model\":_vm.baseDataForm}},[_c('el-form-item',{attrs:{\"label\":\"API Path\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入Path\",\"size\":\"small\"},model:{value:(_vm.baseDataForm.path),callback:function ($$v) {_vm.$set(_vm.baseDataForm, \"path\", $$v)},expression:\"baseDataForm.path\"}},[_c('el-select',{staticStyle:{\"width\":\"130px\"},attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.baseDataForm.type),callback:function ($$v) {_vm.$set(_vm.baseDataForm, \"type\", $$v)},expression:\"baseDataForm.type\"}},_vm._l((_vm.requestTypeList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"API 名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入名称\",\"size\":\"small\"},model:{value:(_vm.baseDataForm.name),callback:function ($$v) {_vm.$set(_vm.baseDataForm, \"name\", $$v)},expression:\"baseDataForm.name\"}},[_c('el-select',{staticStyle:{\"width\":\"250px\"},attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.baseDataForm.group),callback:function ($$v) {_vm.$set(_vm.baseDataForm, \"group\", $$v)},expression:\"baseDataForm.group\"}},_vm._l((_vm.groupList),function(ref){\nvar name = ref.name;\nvar id = ref.id;\nreturn _c('el-option',{key:id,attrs:{\"label\":name,\"value\":id}})}),1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"base_data_form\">\n    <el-form label-position=\"top\" label-width=\"80px\" :model=\"baseDataForm\">\n      <el-form-item label=\"API Path\">\n        <el-input\n          placeholder=\"请输入Path\"\n          v-model=\"baseDataForm.path\"\n          size=\"small\"\n        >\n          <el-select\n            style=\"width: 130px;\"\n            v-model=\"baseDataForm.type\"\n            slot=\"prepend\"\n            placeholder=\"请选择\"\n          >\n            <el-option\n              v-for=\"item in requestTypeList\"\n              :key=\"item\"\n              :label=\"item\"\n              :value=\"item\"\n            ></el-option>\n          </el-select>\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"API 名称\">\n        <el-input\n          placeholder=\"请输入名称\"\n          v-model=\"baseDataForm.name\"\n          size=\"small\"\n        >\n          <el-select\n            style=\"width: 250px;\"\n            v-model=\"baseDataForm.group\"\n            slot=\"prepend\"\n            placeholder=\"请选择\"\n          >\n            <el-option\n              v-for=\"{ name, id } in groupList\"\n              :key=\"id\"\n              :label=\"name\"\n              :value=\"id\"\n            ></el-option>\n          </el-select>\n        </el-input>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { getGroupData } from '../../api/group';\nimport * as CONSTANT from '../../constant';\nexport default {\n  name: 'BaseDataForm',\n  data() {\n    return {\n      baseDataForm: {\n        path: '',\n        name: '',\n        type: 'GET',\n        group: '',\n      },\n      groupList: [],\n    };\n  },\n  computed: {\n    requestTypeList() {\n      return Object.keys(CONSTANT.REQUEST_TYPE);\n    },\n  },\n  methods: {\n    handleChangeBaseDataForm(value) {\n      this.baseDataForm = value;\n    },\n    initPage() {\n      getGroupData().then(res => {\n        this.groupList = res;\n      });\n    },\n  },\n  mounted() {\n    this.initPage();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.base_data_form {\n  .el-form-item {\n    margin-bottom: 0;\n    font-weight: bold;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDataForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDataForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseDataForm.vue?vue&type=template&id=464f4fc8&scoped=true&\"\nimport script from \"./BaseDataForm.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseDataForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseDataForm.vue?vue&type=style&index=0&id=464f4fc8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"464f4fc8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"font-size\":\"14px\",\"margin\":\"8px\"}},[_vm._v(\" JSON根类型： \"),_c('el-select',{staticStyle:{\"width\":\"130px\",\"margin-bottom\":\"8px\"},attrs:{\"placeholder\":\"请选择\",\"size\":\"small\"},model:{value:(_vm.currentJsonType),callback:function ($$v) {_vm.currentJsonType=$$v},expression:\"currentJsonType\"}},_vm._l((_vm.JsonType),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('common-table',{attrs:{\"data-source\":_vm.data,\"hasChildren\":true}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"font-size: 14px; margin: 8px;\">\n    JSON根类型：\n    <el-select\n      style=\"width: 130px; margin-bottom: 8px;\"\n      v-model=\"currentJsonType\"\n      placeholder=\"请选择\"\n      size=\"small\"\n    >\n      <el-option\n        v-for=\"item in JsonType\"\n        :key=\"item\"\n        :label=\"item\"\n        :value=\"item\"\n      ></el-option>\n    </el-select>\n    <common-table :data-source=\"data\" :hasChildren=\"true\"></common-table>\n  </div>\n</template>\n\n<script>\nimport CommonTable from '../common/CommonTable';\nexport default {\n  name: 'ResponseParam',\n  components: {\n    CommonTable,\n  },\n  data() {\n    return {\n      baseData: {\n        name: '',\n        value: '',\n        isRequired: true,\n        remark: '',\n        isRoot: true,\n      },\n      data: [],\n      JsonType: ['Object', 'Array'],\n      currentJsonType: 'Object',\n    };\n  },\n  created() {\n    this.data = [JSON.parse(JSON.stringify(this.baseData))];\n  },\n  methods: {\n    handleChangeData(value) {\n      this.data = value;\n    },\n    handleChangeCurrentJsonType(value) {\n      this.currentJsonType = value;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResponseParam.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResponseParam.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ResponseParam.vue?vue&type=template&id=65c699e2&scoped=true&\"\nimport script from \"./ResponseParam.vue?vue&type=script&lang=js&\"\nexport * from \"./ResponseParam.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65c699e2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container v-loading=\"loading\" class=\"api-edit\">\n    <el-header style=\"font-size: 12px; height: 40px;\">\n      <el-page-header @back=\"goBack\"></el-page-header>\n      <el-button\n        type=\"success\"\n        size=\"small\"\n        style=\"position: absolute; top: 13px; left: 128px;\"\n        @click=\"saveData\"\n      >\n        <i class=\"el-icon-save\"></i> 保存\n      </el-button>\n    </el-header>\n    <el-main>\n      <p class=\"title\">基本信息</p>\n      <base-data-form ref=\"base_data_form\"></base-data-form>\n      <p class=\"title\">请求参数</p>\n      <request-param ref=\"request_param\"></request-param>\n      <p class=\"title\">返回参数</p>\n      <response-param ref=\"response_param\"></response-param>\n      <p class=\"title\">返回示例</p>\n      <response-example ref=\"response_example\"></response-example>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport { createApiData, getApiData, updateApiData } from '../../api/api';\nimport mixin from '../../components/mixin';\nimport BaseDataForm from '../../components/ApiEdit/BaseDataForm';\nimport RequestParam from '../../components/ApiEdit/RequestParam';\nimport ResponseParam from '../../components/ApiEdit/ResponseParam';\nimport ResponseExample from '../../components/ApiEdit/ResponseExample';\nexport default {\n  name: 'ApiEdit',\n  components: {\n    BaseDataForm,\n    RequestParam,\n    ResponseParam,\n    ResponseExample,\n  },\n  data() {\n    return {\n      isEdit: false,\n      loading: false,\n    };\n  },\n  mounted() {\n    const { id } = this.$route.query;\n    if (id) {\n      this.isEdit = true;\n      this.initPage(id);\n    }\n  },\n  mixins: [mixin],\n  methods: {\n    goBack() {\n      this.$router.go(-1);\n    },\n    saveData() {\n      const {\n        base_data_form,\n        request_param,\n        response_param,\n        response_example,\n      } = this.$refs;\n      const { path, name, group, type } = base_data_form.baseDataForm;\n      const [header, body, query, rest] = request_param.tabList;\n      if (path.trim() === '') {\n        this.messageWarning('path是必填项');\n        return;\n      }\n      if (name.trim() === '') {\n        this.messageWarning('name是必填项');\n        return;\n      }\n      if (group === '') {\n        this.messageWarning('group是必填项');\n        return;\n      }\n      const bodyData =\n        body.model === 'form-data' || body.model === 'x-www-form-urlencoded'\n          ? { data: this.filterEmptyData(body.data) }\n          : { content: body.content };\n      const param = {\n        path,\n        name,\n        group: Number(group),\n        type,\n        requestParam: {\n          header: this.filterEmptyData(header.data),\n          body: {\n            model: body.model,\n            ...bodyData,\n          },\n          query: this.filterEmptyData(query.data),\n          rest: this.filterEmptyData(rest.data),\n        },\n        responseParam: {\n          data: this.filterEmptyData(response_param.data),\n          type: response_param.currentJsonType,\n        },\n        responseExample: response_example.content,\n      };\n      if (this.isEdit) {\n        const { id } = this.$route.query;\n        updateApiData({ ...param, id }).then(() => {\n          this.messageSuccess('修改成功');\n          this.$router.push({ name: 'ApiDetailPage', query: { id } });\n        });\n      } else {\n        createApiData(param).then(res => {\n          this.messageSuccess('创建成功');\n          this.$router.push({\n            name: 'ApiDetailPage',\n            query: { id: res.id },\n          });\n        });\n      }\n    },\n    initPage(id) {\n      this.loading = true;\n      getApiData({ id }).then(res => {\n        const {\n          group,\n          name,\n          path,\n          type,\n          requestParam,\n          responseParam,\n          responseExample,\n        } = res;\n        const {\n          base_data_form,\n          request_param,\n          response_param,\n          response_example,\n        } = this.$refs;\n        const { header, body, query, rest } = requestParam;\n        base_data_form.handleChangeBaseDataForm({\n          group,\n          name,\n          path,\n          type,\n        });\n        request_param.handleChangeHeaderData(header);\n        request_param.handleChangeBodyData(body);\n        request_param.handleChangeQueryData(query);\n        request_param.handleChangeRestData(rest);\n        response_example.handleChangeContent(responseExample);\n        response_param.handleChangeData(responseParam.data);\n        response_param.handleChangeCurrentJsonType(responseParam.type);\n        this.loading = false;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.api-edit {\n  position: relative;\n  background-color: #fff;\n  min-height: calc(100vh - 100px);\n  padding: 20px;\n  .title {\n    font-size: 14px;\n    border-left: 2px solid green;\n    padding: 5px 0 5px 10px;\n    background-color: #f8f8f8;\n  }\n  .el-main {\n    max-height: calc(100vh - 190px);\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding-right: 10px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApiEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApiEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ApiEdit.vue?vue&type=template&id=8053a668&scoped=true&\"\nimport script from \"./ApiEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ApiEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ApiEdit.vue?vue&type=style&index=0&id=8053a668&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8053a668\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}